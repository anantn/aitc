# HG changeset patch
# Parent d8e9c8848a2a2b97048c0061c1c4923d0aa2b686

diff --git a/dom/apps/src/Webapps.jsm b/dom/apps/src/Webapps.jsm
--- a/dom/apps/src/Webapps.jsm
+++ b/dom/apps/src/Webapps.jsm
@@ -100,16 +100,20 @@ let DOMApplicationRegistry = {
     } catch (ex) {
       Cu.reportError("DOMApplicationRegistry: Could not read from " + aFile.path + " : " + ex);
       if (aCallback)
         aCallback(null);
     }
   },
 
   receiveMessage: function(aMessage) {
+    // nsIPrefBranch throws if pref does not exist, faster to simply write
+    // the pref instead of first checking if it is false.
+    Services.prefs.setBoolPref("apps.enabled", true);
+
     let msg = aMessage.json;
 
     switch (aMessage.name) {
       case "Webapps:Install":
         // always ask for UI to install
         Services.obs.notifyObservers(this, "webapps-ask-install", JSON.stringify(msg));
         break;
       case "Webapps:GetSelf":
